<!-- Copyright (c) 2019-2020, Digital Asset (Switzerland) GmbH and/or its affiliates. -->
<!-- All rights reserved. -->

<!DOCTYPE html>
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
  <link rel="apple-touch-icon" sizes="180x180" href="da-style/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" href="da-style/favicon-32x32.png" sizes="32x32"/>
  <link rel="icon" type="image/png" href="da-style/favicon-16x16.png" sizes="16x16"/>
  <link rel="shortcut icon" href="da-style/favicon.ico"/>

  <link rel="stylesheet" href="da-style/da-style.css" type="text/css" />

  <!--
  <link rel="search" title="Search" href="search.html"/>
  -->
</head>

<header class="navbar-fixed-top cbp-af-header">

    <a href="#" class="da-home-link">
        <img src="da-style/da-logo.png" class="logo" />
    </a>

    <span class="version">
                                <span>NO TITLE PROVIDED</span>
                    </span>

</header>

<div class="container">

    <div class="wrap">
        <main>

            <aside>

                <nav class="side-tree">
                                    </nav>

            </aside>
            <article>

                <div role="main" class="document" itemscope="itemscope" itemprop="articleBody">

                    <h1 id="module-contingentclaims.math.stochastic"><span id="module-contingentclaims-math-stochastic-42476"></span>Module ContingentClaims.Math.Stochastic</h1>
                    <h2 id="typeclasses">Typeclasses</h2>
                    <p><span id="class-contingentclaims-math-stochastic-isidentifier-26934"></span><strong>class</strong> <a href="#class-contingentclaims-math-stochastic-isidentifier-26934">IsIdentifier</a> t <strong>where</strong></p>
                    <blockquote>
                    <p><span id="function-contingentclaims-math-stochastic-localvar-63030"></span><a href="#function-contingentclaims-math-stochastic-localvar-63030">localVar</a></p>
                    <blockquote>
                    <p>: Int -&gt; t</p>
                    <p>Produce a local identifier of type <code>t</code>, subindexed by <code>i</code></p>
                    </blockquote>
                    </blockquote>
                    <h2 id="data-types">Data Types</h2>
                    <p><span id="type-contingentclaims-math-stochastic-expr-86999"></span><strong>data</strong> <a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t</p>
                    <blockquote>
                    <p>Represents an expression of t-adapted stochastic processes</p>
                    <p><span id="constr-contingentclaims-math-stochastic-const-31833"></span><a href="#constr-contingentclaims-math-stochastic-const-31833">Const</a> Decimal</p>
                    <p><span id="constr-contingentclaims-math-stochastic-ident-96258"></span><a href="#constr-contingentclaims-math-stochastic-ident-96258">Ident</a> t</p>
                    <p><span id="constr-contingentclaims-math-stochastic-proc-29829"></span><a href="#constr-contingentclaims-math-stochastic-proc-29829">Proc</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">name</td>
                    <td style="text-align: left;">Text</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">process</td>
                    <td style="text-align: left;"><a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="odd">
                    <td style="text-align: left;">filtration</td>
                    <td style="text-align: left;">t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><span id="constr-contingentclaims-math-stochastic-sup-22466"></span><a href="#constr-contingentclaims-math-stochastic-sup-22466">Sup</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">lowerBound</td>
                    <td style="text-align: left;">t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">tau</td>
                    <td style="text-align: left;">t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="odd">
                    <td style="text-align: left;">rv</td>
                    <td style="text-align: left;"><a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><span id="constr-contingentclaims-math-stochastic-sum-59559"></span><a href="#constr-contingentclaims-math-stochastic-sum-59559">Sum</a> [<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t]</p>
                    <p><span id="constr-contingentclaims-math-stochastic-neg-17368"></span><a href="#constr-contingentclaims-math-stochastic-neg-17368">Neg</a> (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t)</p>
                    <p><span id="constr-contingentclaims-math-stochastic-mul-80664"></span><a href="#constr-contingentclaims-math-stochastic-mul-80664">Mul</a> (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t, <a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t)</p>
                    <p><span id="constr-contingentclaims-math-stochastic-pow-33356"></span><a href="#constr-contingentclaims-math-stochastic-pow-33356">Pow</a> (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t, <a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t)</p>
                    <p><span id="constr-contingentclaims-math-stochastic-i-87109"></span><a href="#constr-contingentclaims-math-stochastic-i-87109">I</a> (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t, <a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t)</p>
                    <p><span id="constr-contingentclaims-math-stochastic-e-39249"></span><a href="#constr-contingentclaims-math-stochastic-e-39249">E</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">rv</td>
                    <td style="text-align: left;"><a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">filtration</td>
                    <td style="text-align: left;">t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><strong>instance</strong> ToXml t =&gt; ToXml (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t)</p>
                    <p><strong>instance</strong> Corecursive (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t) (<a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t)</p>
                    <p><strong>instance</strong> Recursive (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t) (<a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t)</p>
                    <p><strong>instance</strong> Eq t =&gt; Eq (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t)</p>
                    <p><strong>instance</strong> Show t =&gt; Show (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t)</p>
                    </blockquote>
                    <p><span id="type-contingentclaims-math-stochastic-exprf-90472"></span><strong>data</strong> <a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t x</p>
                    <blockquote>
                    <p>Base functor for <code>Expr</code>. Note that this is ADT is re-used in a couple of places e.g. <code>Process</code>, where however not every choice is legal and will lead to a partial evaluator.</p>
                    <p><span id="constr-contingentclaims-math-stochastic-constf-39090"></span><a href="#constr-contingentclaims-math-stochastic-constf-39090">ConstF</a> Decimal</p>
                    <p><span id="constr-contingentclaims-math-stochastic-identf-5163"></span><a href="#constr-contingentclaims-math-stochastic-identf-5163">IdentF</a> t</p>
                    <p><span id="constr-contingentclaims-math-stochastic-procf-79694"></span><a href="#constr-contingentclaims-math-stochastic-procf-79694">ProcF</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">name</td>
                    <td style="text-align: left;">Text</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">process</td>
                    <td style="text-align: left;"><a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="odd">
                    <td style="text-align: left;">filtration</td>
                    <td style="text-align: left;">t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><span id="constr-contingentclaims-math-stochastic-supf-54295"></span><a href="#constr-contingentclaims-math-stochastic-supf-54295">SupF</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">lowerBound</td>
                    <td style="text-align: left;">t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">tau</td>
                    <td style="text-align: left;">t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="odd">
                    <td style="text-align: left;">rv</td>
                    <td style="text-align: left;">x</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><span id="constr-contingentclaims-math-stochastic-sumf-95300"></span><a href="#constr-contingentclaims-math-stochastic-sumf-95300">SumF</a> [x]</p>
                    <p><span id="constr-contingentclaims-math-stochastic-negf-42569"></span><a href="#constr-contingentclaims-math-stochastic-negf-42569">NegF</a> x</p>
                    <p><span id="constr-contingentclaims-math-stochastic-mulf-67113"></span><a href="#constr-contingentclaims-math-stochastic-mulf-67113">MulF</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">lhs</td>
                    <td style="text-align: left;">x</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">rhs</td>
                    <td style="text-align: left;">x</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><span id="constr-contingentclaims-math-stochastic-powf-35157"></span><a href="#constr-contingentclaims-math-stochastic-powf-35157">PowF</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">lhs</td>
                    <td style="text-align: left;">x</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">rhs</td>
                    <td style="text-align: left;">x</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><span id="constr-contingentclaims-math-stochastic-if-34700"></span><a href="#constr-contingentclaims-math-stochastic-if-34700">I_F</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">lhs</td>
                    <td style="text-align: left;">x</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">rhs</td>
                    <td style="text-align: left;">x</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><span id="constr-contingentclaims-math-stochastic-ef-72440"></span><a href="#constr-contingentclaims-math-stochastic-ef-72440">E_F</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">rv</td>
                    <td style="text-align: left;">x</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">filtration</td>
                    <td style="text-align: left;">t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><strong>instance</strong> Corecursive (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t) (<a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t)</p>
                    <p><strong>instance</strong> Recursive (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t) (<a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t)</p>
                    <p><strong>instance</strong> Functor (<a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t)</p>
                    <p><strong>instance</strong> Foldable (<a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t)</p>
                    <p><strong>instance</strong> Traversable (<a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t)</p>
                    </blockquote>
                    <p><span id="type-contingentclaims-math-stochastic-process-71340"></span><strong>data</strong> <a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t</p>
                    <blockquote>
                    <p>A stochastic processes. Currently this represents GBM - eventually we wish to support other processes such as Levy.</p>
                    <p><span id="constr-contingentclaims-math-stochastic-process-8965"></span><a href="#constr-contingentclaims-math-stochastic-process-8965">Process</a></p>
                    <blockquote>
                    <table>
                    <thead>
                    <tr class="header">
                    <th style="text-align: left;">Field</th>
                    <th style="text-align: left;">Type</th>
                    <th style="text-align: left;">Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd">
                    <td style="text-align: left;">dt</td>
                    <td style="text-align: left;"><a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    <tr class="even">
                    <td style="text-align: left;">dW</td>
                    <td style="text-align: left;"><a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t</td>
                    <td style="text-align: left;"></td>
                    </tr>
                    </tbody>
                    </table>
                    </blockquote>
                    <p><strong>instance</strong> Eq t =&gt; Eq (<a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t)</p>
                    <p><strong>instance</strong> Show t =&gt; Show (<a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t)</p>
                    </blockquote>
                    <h2 id="functions">Functions</h2>
                    <p><span id="function-contingentclaims-math-stochastic-riskless-33828"></span><a href="#function-contingentclaims-math-stochastic-riskless-33828">riskless</a></p>
                    <blockquote>
                    <p>: t -&gt; <a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t</p>
                    <p>Helper function to create a riskless process <code>dS = r dt</code></p>
                    </blockquote>
                    <p><span id="function-contingentclaims-math-stochastic-gbm-1263"></span><a href="#function-contingentclaims-math-stochastic-gbm-1263">gbm</a></p>
                    <blockquote>
                    <p>: t -&gt; t -&gt; <a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t</p>
                    <p>Helper function to create a geometric BM <code>dS = μ dt + σ dW</code></p>
                    </blockquote>
                    <p><span id="function-contingentclaims-math-stochastic-fapf-3375"></span><a href="#function-contingentclaims-math-stochastic-fapf-3375">fapf</a></p>
                    <blockquote>
                    <p>: (Eq a, Show a, <a href="#class-contingentclaims-math-stochastic-isidentifier-26934">IsIdentifier</a> t) =&gt; a -&gt; (a -&gt; <a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t) -&gt; (a -&gt; a -&gt; <a href="#type-contingentclaims-math-stochastic-process-71340">Process</a> t) -&gt; t -&gt; <a href="ContingentClaims-Claim.html#type-contingentclaims-claim-claim-55448">Claim</a> t Decimal a -&gt; <a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t</p>
                    <p>Converts a <code>Claim</code> into the Fundamental Asset Pricing Formula. The ϵ expressions are defined as E1-E10 in the Eber/Peyton-Jones paper. If you squint you can almost see they correspond one-to-one to the formulae in our whitepaper.</p>
                    </blockquote>
                    <p><span id="function-contingentclaims-math-stochastic-simplify-99927"></span><a href="#function-contingentclaims-math-stochastic-simplify-99927">simplify</a></p>
                    <blockquote>
                    <p>: <a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t -&gt; <a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t</p>
                    <p>This is meant to be a function that algebraically simplifies the FAPF by</p>
                    <ol>
                    <li>using simple identities and ring laws</li>
                    <li>change of numeraire technique.</li>
                    </ol>
                    </blockquote>
                    <p><span id="function-contingentclaims-math-stochastic-unitidentity-12430"></span><a href="#function-contingentclaims-math-stochastic-unitidentity-12430">unitIdentity</a></p>
                    <blockquote>
                    <p>: <a href="#type-contingentclaims-math-stochastic-exprf-90472">ExprF</a> t (<a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t) -&gt; <a href="#type-contingentclaims-math-stochastic-expr-86999">Expr</a> t</p>
                    </blockquote>

                    <br>
                    <hr>
                    <p>
                        © Copyright 2016-2020 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. Any unauthorized use, duplication or distribution is strictly prohibited.
                    </p>

                </div>


            </article>

        </main>
    </div>

</div>

</html>
